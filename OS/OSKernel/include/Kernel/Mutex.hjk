// do NOT change the size of this
STRUCT KeMutex
    DispatchHeader : KeDispatchHeader,
    OwningThread : ^KeThread,
    Mode : ULONG,
    
    Entry : RtlListEntry,
END

EXTERN FN KeMutexInitialize (
    IN name : ^UBYTE,
    IN mode : UWORD,
    IN mutex : ^KeMutex,
)

EXTERN FN KeMutexRelease (
    IN abandon : UWORD,
    IN mutex : ^KeMutex,
) : UWORD

EXTERN FN KeMutexIsLocked (
    IN mutex : ^KeMutex,
) : UWORD